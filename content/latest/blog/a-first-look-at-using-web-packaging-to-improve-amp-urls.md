---
class: post-blog post-detail
type: Blog
$title: "A first look at using web packaging to improve AMP URLs"
id: a-first-look-at-using-web-packaging-to-improve-amp-urls
author: Kinuko Yasuda
role:  Chrome Software Engineer, and Eric Steinlauf, Software Engineer, Google Search
origin: "https://amphtml.wordpress.com/2018/05/08/a-first-look-at-using-web-packaging-to-improve-amp-urls/amp/"
excerpt: "One of the top pieces of feedback that people share about AMP is about the “google.com/amp…” URLs that are used when linking to a piece of AMP content in Google Search. A couple of months ago, the AMP team at Google outlined a plan to display better AMP URLs, and today we’d like to share [&#8230;]"
avatar: https://1.gravatar.com/avatar/42ecb1ea497ca9d0ffe1e406cae70e27?s=96&d=identicon&r=G
date_data: 2018-05-08T16:47:43-04:00
$date: May 8, 2018
$parent: /content/latest/list-blog.html
$path: /latest/blog/{base}/
$localization:
  path: /{locale}/latest/blog/{base}/
components:
  - social-share
  - anim
inlineCSS: .amp-wp-inline-329fdb7771c10d07df9eb73273c95a60{font-weight:400;}
---

<div class="amp-wp-article-content">

		<p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">One of the top pieces of feedback that people share about AMP is about the “google.com/amp…” URLs that are used when linking to a piece of AMP content in Google Search. A couple of months ago, the AMP team at Google </span><a href="https://www.ampproject.org/latest/blog/improving-urls-for-amp-pages/"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">outlined a plan</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> to display better AMP URLs, and today we’d like to share progress on this effort.</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Our approach uses one component of the emerging </span><a href="https://github.com/WICG/webpackage"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Web Packaging</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> technologies—technologies that also support a range of other </span><a href="https://tools.ietf.org/html/draft-yasskin-webpackage-use-cases-01#section-2"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">use cases</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">. This component allows a publisher to </span><a href="https://wicg.github.io/webpackage/draft-yasskin-http-origin-signed-responses.html"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">sign an HTTP exchange (a request/response pair)</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">, which then allows a caching server to do the work of actually delivering that exchange to a browser. When the browser loads this “Signed Exchange”, it can show the original publisher’s web origin in the browser address bar because it can prove similar integrity and authenticity properties as a regular HTTPS connection.</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Addressing this issue is great for users and publishers alike. Users see URLs that are consistent with their expectations based on the publisher identified on the search results page. Publishers benefit from retaining their brand in the address bar and the instant loading, thanks to pre-fetching.</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">To confirm the proposed tech works in practice, the AMP Project worked with two partners, Pinterest and Food Network, who signed their AMP content and published those signed exchanges to the web. To make this process easier, they used a new set of tools available at </span><a href="https://github.com/ampproject/amppackager"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">https://github.com/ampproject/amppackager</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">.  Additionally a non-AMP–specific package tool is also available at </span><a href="https://github.com/WICG/webpackage/tree/master/go/signedexchange"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">https://github.com/WICG/webpackage/tree/master/go/signedexchange</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">.</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">The Chrome team has built enough Signed Exchange support for developers to try it out. Starting with Chrome 67 on Android—in Beta channel at the time of writing—you can enable the experimental “Signed HTTP Exchange” flag under chrome://flags to use Web Packaging’s signed exchanges. In parallel with this experimental implementation, the Chrome team has also been collecting feedback from members of standards bodies, other browser vendors, security experts, and publishers and web developers to refine and improve the Web Packaging specifications. </span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Last, to tie everything together, the Google Search team has implemented a version of Google Search that illustrates the end-to-end flow. When a signed exchange is available, instead of linking to an AMP page served from Google’s AMP Cache, Google Search links to a </span><i><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">signed</span></i><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> AMP page served from Google’s cache.</span></p><p><amp-anim class="aligncenter size-full wp-image-2037 amp-wp-enforced-sizes" src="https://amphtml.files.wordpress.com/2018/05/webpackaging.gif?w=660" alt="webpackaging" width="394" height="786" sizes="(min-width: 394px) 394px, 100vw"></amp-anim><br/><i>There’s a lot h</i><i>appening behind the scenes to ensure that opening a Food Network result from Google Search is blazingly fast!</i></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">As you can see in the animation above, the final URL for the AMP content is on the foodnetwork.com domain, exactly as desired, and with the fast load speed that people enjoy with AMP pages. We’re very excited to validate that the imagined approach works across multiple layers of technology. However, it’s important to keep in mind that it’s still early and what you see isn’t ready to ship. As noted above, we expect more feedback from browser vendors and the web community to further refine the Web Packaging related specifications and work toward finalizing them.</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Please <a href="https://github.com/ampproject/amppackager">reach out</a> if you’re interested in this area and we’ll continue our commitment to provide updates as there is additional progress to share.</span></p><p><i><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Posted by Kinuko Yasuda, Chrome Software Engineer, and Eric Steinlauf, Software Engineer, Google Search</span></i></p>	</div>

	

</div>

